{% schema %}
{
  "name": "Benefits",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "¿Qué hace que WACAT sea diferente?"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Diseñado específicamente para el comportamiento y las necesidades de los gatos"
    },
    {
      "type": "text",
      "id": "cta_title",
      "label": "CTA Title",
      "default": "Tu gato merece lo mejor"
    },
    {
      "type": "textarea",
      "id": "cta_description",
      "label": "CTA Description",
      "default": "Miles de dueños ya han mejorado la salud de sus gatos con WACAT. Únete a ellos y dale a tu gato la hidratación que necesita."
    },
    {
      "type": "text",
      "id": "cta_button_text",
      "label": "CTA Button Text",
      "default": "Empezar ahora"
    },
    {
      "type": "product",
      "id": "product",
      "label": "Product (for pricing)"
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Benefit",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Line Awesome Icon (e.g., la-leaf)",
          "default": "la-leaf"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "100% Natural"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Sin químicos, sin aditivos. Solo ingredientes naturales que tu gato reconoce instintivamente"
        },
        {
          "type": "text",
          "id": "footer_icon",
          "label": "Footer Icon",
          "default": "la-check-circle"
        },
        {
          "type": "text",
          "id": "footer_text",
          "label": "Footer Text",
          "default": "Seguro para uso diario"
        }
      ]
    }
  ]
}
{% endschema %}

{%- assign product = all_products[section.settings.product] -%}
{%- if product.selected_or_first_available_variant -%}
  {%- assign variant = product.selected_or_first_available_variant -%}
  {%- assign product_price = variant.price | money_without_trailing_zeros -%}
  {%- assign checkout_url = '/cart/add?id=' | append: variant.id -%}
{%- else -%}
  {%- assign product_price = '' -%}
  {%- assign checkout_url = '#producto' -%}
{%- endif -%}

<section id="beneficios" class="bg-wacat-cream section-spacing">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Header -->
    <div class="text-center mb-16 max-w-3xl mx-auto">
      <h2 class="heading-xl text-wacat-navy mb-6">
        Por qué elegir WACAT
      </h2>
      <p class="body-lg text-secondary">
        Diseñado específicamente para las necesidades naturales de hidratación de los gatos
      </p>
    </div>

    <!-- Benefits grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-12">
      {% for block in section.blocks %}
        <div class="card">
          <!-- Icon header -->
          <div class="icon-circle icon-circle-lg bg-wacat-navy/5 mb-6">
            <i class="las {{ block.settings.icon }} text-3xl text-wacat-navy"></i>
          </div>

          <!-- Content -->
          <h3 class="heading-md text-primary mb-3">
            {{ block.settings.title }}
          </h3>

          <p class="body-sm text-secondary">
            {{ block.settings.description }}
          </p>
        </div>
      {% endfor %}
    </div>

    <!-- Bottom CTA -->
    <div class="mt-16 text-center">
      <div class="inline-flex flex-col items-center gap-6 p-10 bg-white rounded-3xl shadow-lg max-w-2xl">
        <div>
          <h3 class="heading-lg text-primary mb-3">
            {{ section.settings.cta_title }}
          </h3>
          <p class="body-md text-secondary">
            {{ section.settings.cta_description }}
          </p>
        </div>

        <a href="{{ checkout_url }}" class="btn btn-primary btn-xl">
          <i class="las la-shopping-cart"></i>
          {{ section.settings.cta_button_text }}
          {% if product_price != '' %}
            <span class="ml-2">{{ product_price }}</span>
          {% endif %}
        </a>
      </div>
    </div>

  </div>
</section>
