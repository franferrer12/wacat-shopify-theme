{% schema %}
{
  "name": "Benefits",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "¿Qué hace que WACAT sea diferente?"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Diseñado específicamente para el comportamiento y las necesidades de los gatos"
    },
    {
      "type": "text",
      "id": "cta_title",
      "label": "CTA Title",
      "default": "Tu gato merece lo mejor"
    },
    {
      "type": "textarea",
      "id": "cta_description",
      "label": "CTA Description",
      "default": "Miles de dueños ya han mejorado la salud de sus gatos con WACAT. Únete a ellos y dale a tu gato la hidratación que necesita."
    },
    {
      "type": "text",
      "id": "cta_button_text",
      "label": "CTA Button Text",
      "default": "Empezar ahora"
    },
    {
      "type": "product",
      "id": "product",
      "label": "Product (for pricing)"
    },
    {
      "type": "header",
      "content": "Espaciado Móvil (< 768px)"
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "label": "Espaciado superior móvil (px)",
      "min": 0,
      "max": 400,
      "step": 8,
      "default": 64,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "label": "Espaciado inferior móvil (px)",
      "min": 0,
      "max": 400,
      "step": 8,
      "default": 64,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_left_mobile",
      "label": "Espaciado izquierdo móvil (px)",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 16,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_right_mobile",
      "label": "Espaciado derecho móvil (px)",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 16,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "content_gap_mobile",
      "label": "Separación entre elementos móvil (px)",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 32,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Espaciado Tablet (768px - 1024px)"
    },
    {
      "type": "range",
      "id": "padding_top_tablet",
      "label": "Espaciado superior tablet (px)",
      "min": 0,
      "max": 400,
      "step": 8,
      "default": 80,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom_tablet",
      "label": "Espaciado inferior tablet (px)",
      "min": 0,
      "max": 400,
      "step": 8,
      "default": 80,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_left_tablet",
      "label": "Espaciado izquierdo tablet (px)",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 24,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_right_tablet",
      "label": "Espaciado derecho tablet (px)",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 24,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "content_gap_tablet",
      "label": "Separación entre elementos tablet (px)",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 48,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Espaciado Desktop (>= 1024px)"
    },
    {
      "type": "range",
      "id": "padding_top_desktop",
      "label": "Espaciado superior desktop (px)",
      "min": 0,
      "max": 400,
      "step": 8,
      "default": 96,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom_desktop",
      "label": "Espaciado inferior desktop (px)",
      "min": 0,
      "max": 400,
      "step": 8,
      "default": 96,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_left_desktop",
      "label": "Espaciado izquierdo desktop (px)",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 32,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_right_desktop",
      "label": "Espaciado derecho desktop (px)",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 32,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "content_gap_desktop",
      "label": "Separación entre elementos desktop (px)",
      "min": 0,
      "max": 200,
      "step": 4,
      "default": 64,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Benefit",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Line Awesome Icon (e.g., la-leaf)",
          "default": "la-leaf"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "100% Natural"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Sin químicos, sin aditivos. Solo ingredientes naturales que tu gato reconoce instintivamente"
        },
        {
          "type": "text",
          "id": "footer_icon",
          "label": "Footer Icon",
          "default": "la-check-circle"
        },
        {
          "type": "text",
          "id": "footer_text",
          "label": "Footer Text",
          "default": "Seguro para uso diario"
        }
      ]
    }
  ]
}
{% endschema %}

{%- assign product = all_products[section.settings.product] -%}
{%- if product.selected_or_first_available_variant -%}
  {%- assign variant = product.selected_or_first_available_variant -%}
  {%- assign product_price = variant.price | money_without_trailing_zeros -%}
  {%- assign checkout_url = '/cart/add?id=' | append: variant.id -%}
{%- else -%}
  {%- assign product_price = '' -%}
  {%- assign checkout_url = '#producto' -%}
{%- endif -%}

<style>
  #benefits-{{ section.id }} {
    padding-top: {{ section.settings.padding_top_mobile }}px;
    padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
    padding-left: {{ section.settings.padding_left_mobile }}px;
    padding-right: {{ section.settings.padding_right_mobile }}px;
  }

  #benefits-{{ section.id }} .benefits-container {
    gap: {{ section.settings.content_gap_mobile }}px;
  }

  @media (min-width: 768px) and (max-width: 1023px) {
    #benefits-{{ section.id }} {
      padding-top: {{ section.settings.padding_top_tablet }}px;
      padding-bottom: {{ section.settings.padding_bottom_tablet }}px;
      padding-left: {{ section.settings.padding_left_tablet }}px;
      padding-right: {{ section.settings.padding_right_tablet }}px;
    }

    #benefits-{{ section.id }} .benefits-container {
      gap: {{ section.settings.content_gap_tablet }}px;
    }
  }

  @media (min-width: 1024px) {
    #benefits-{{ section.id }} {
      padding-top: {{ section.settings.padding_top_desktop }}px;
      padding-bottom: {{ section.settings.padding_bottom_desktop }}px;
      padding-left: {{ section.settings.padding_left_desktop }}px;
      padding-right: {{ section.settings.padding_right_desktop }}px;
    }

    #benefits-{{ section.id }} .benefits-container {
      gap: {{ section.settings.content_gap_desktop }}px;
    }
  }
</style>

<section id="benefits-{{ section.id }}" class="bg-wacat-cream">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Header -->
    <div class="text-center mb-16 max-w-3xl mx-auto">
      <h2 class="heading-xl text-wacat-navy mb-6">
        {{ section.settings.title }}
      </h2>
      <p class="body-lg text-secondary">
        {{ section.settings.subtitle }}
      </p>
    </div>

    <!-- Benefits grid -->
    <div class="benefits-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
      {% for block in section.blocks %}
        <div class="card">
          <!-- Icon header -->
          <div class="icon-circle icon-circle-lg bg-wacat-navy/5 mb-6">
            <i class="las {{ block.settings.icon }} text-3xl text-wacat-navy"></i>
          </div>

          <!-- Content -->
          <h3 class="heading-md text-primary mb-3">
            {{ block.settings.title }}
          </h3>

          <p class="body-sm text-secondary">
            {{ block.settings.description }}
          </p>
        </div>
      {% endfor %}
    </div>

    <!-- Bottom CTA -->
    <div class="mt-16 text-center">
      <div class="inline-flex flex-col items-center gap-6 p-10 bg-white rounded-3xl shadow-lg max-w-2xl">
        <div>
          <h3 class="heading-lg text-primary mb-3">
            {{ section.settings.cta_title }}
          </h3>
          <p class="body-md text-secondary">
            {{ section.settings.cta_description }}
          </p>
        </div>

        <a href="{{ checkout_url }}" class="btn btn-primary btn-xl">
          <i class="las la-shopping-cart"></i>
          {{ section.settings.cta_button_text }}
          {% if product_price != '' %}
            <span class="ml-2">{{ product_price }}</span>
          {% endif %}
        </a>
      </div>
    </div>

  </div>
</section>
