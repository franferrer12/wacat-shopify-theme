{% schema %}
{
  "name": "Benefits",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "¿Qué hace que WACAT sea diferente?"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Diseñado específicamente para el comportamiento y las necesidades de los gatos"
    },
    {
      "type": "text",
      "id": "cta_title",
      "label": "CTA Title",
      "default": "Tu gato merece lo mejor"
    },
    {
      "type": "textarea",
      "id": "cta_description",
      "label": "CTA Description",
      "default": "Miles de dueños ya han mejorado la salud de sus gatos con WACAT. Únete a ellos y dale a tu gato la hidratación que necesita."
    },
    {
      "type": "text",
      "id": "cta_button_text",
      "label": "CTA Button Text",
      "default": "Empezar ahora"
    },
    {
      "type": "product",
      "id": "product",
      "label": "Product (for pricing)"
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Benefit",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Line Awesome Icon (e.g., la-leaf)",
          "default": "la-leaf"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "100% Natural"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Sin químicos, sin aditivos. Solo ingredientes naturales que tu gato reconoce instintivamente"
        },
        {
          "type": "text",
          "id": "footer_icon",
          "label": "Footer Icon",
          "default": "la-check-circle"
        },
        {
          "type": "text",
          "id": "footer_text",
          "label": "Footer Text",
          "default": "Seguro para uso diario"
        }
      ]
    }
  ]
}
{% endschema %}

{%- assign product = all_products[section.settings.product] -%}
{%- if product.selected_or_first_available_variant -%}
  {%- assign variant = product.selected_or_first_available_variant -%}
  {%- assign product_price = variant.price | money_without_trailing_zeros -%}
  {%- assign checkout_url = '/cart/add?id=' | append: variant.id -%}
{%- else -%}
  {%- assign product_price = '' -%}
  {%- assign checkout_url = '#producto' -%}
{%- endif -%}

<section id="beneficios" class="bg-white py-20 md:py-32">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-20">
      <h2 class="text-3xl md:text-4xl lg:text-5xl font-light text-wacat-navy">
        Beneficios
      </h2>
    </div>

    <div class="grid grid-cols-3 lg:grid-cols-6 gap-12 md:gap-16">
      {% for block in section.blocks %}
        <div class="animated-section text-center">
          <i class="las {{ block.settings.icon }} text-6xl text-wacat-navy mb-6 block"></i>
          <h3 class="text-sm font-medium text-wacat-navy/70">
            {{ block.settings.title }}
          </h3>
        </div>
      {% endfor %}
    </div>

    <!-- CTA -->
    <div class="mt-32 text-center">
      <a
        href="{{ checkout_url }}"
        class="inline-flex items-center justify-center bg-wacat-navy text-white px-10 py-5 rounded-full text-lg font-medium hover:bg-wacat-navy-dark active:scale-95 transition-all duration-300"
      >
        Comprar
        {% if product_price != '' %}
          <span class="opacity-70 ml-2">{{ product_price }}</span>
        {% endif %}
      </a>
    </div>
  </div>
</section>
